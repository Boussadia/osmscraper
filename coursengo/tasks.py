#!/usr/bin/python
# -*- coding: utf-8 -*-

from django.conf import settings

from apps.scrapers.coursengo import Coursengo
from models import *

coursengo = Coursengo()

def save_categories(categories):
	"""
		Saving categories in database.

		Input:
			- categories : dictionnary corresponding to the exit of coursengo scraper, containing architecture of categories and sub categories.
		Return:
			- sub_categories_final_list : list of database entity of final categories saved

	"""

	sub_categories_final_list = []

	for name_category, category_dict in categories.iteritems():
		print "Saving Main Category "+name_category
		url_category = category_dict["url"]
		category, created = Category_main.objects.get_or_create(name=name_category, defaults={"url":url_category})
		sub_categories = category_dict["sub_categories"]

		for name_sub_category, sub_category_dict in sub_categories.iteritems():
			print "Saving Sub Category Level 1 "+name_sub_category
			url_sub_category = sub_category_dict["url"]
			sub_category , created = Category_sub_level_1.objects.get_or_create(name=name_sub_category, parent_category = category, defaults={"url":url_sub_category,})
			sub_categories_final = sub_category_dict["sub_categories"]

			# for name_sub_category_level_2, sub_category_level_2_dict in sub_categories_level_2.iteritems():
			# 	print "Saving Sub Category Level 2 "+name_sub_category_level_2
			# 	url_sub_category_level_2 = sub_category_level_2_dict["url"]
			# 	sub_category_level_2, created = Category_sub_level_2.objects.get_or_create(name=name_sub_category_level_2, parent_category=sub_category, defaults={"url":url_sub_category_level_2,})
			# 	print url_sub_category_level_2
			# 	sub_categories_final = sub_category_level_2_dict["sub_categories"]

			if len(sub_categories_final)>0:
				for name_sub_category_final, sub_category_final_dict in sub_categories_final.iteritems():
					print "Saving Sub Category Final "+name_sub_category_final
					url_sub_category_final = sub_category_final_dict["url"]
					sub_category_final, created = Category_final.objects.get_or_create(name=name_sub_category_final, parent_category=sub_category, defaults={"url":url_sub_category_final,})
					sub_categories_final_list.append(sub_category_final)
			else:
				# No sub categories for sub category level 2, creating final category equal to sub category level 2
				print "Saving Sub Category Final "+name_sub_category_level_2
				sub_category_final, created = Category_final.objects.get_or_create(name=name_sub_category_level_2, parent_category=sub_category, defaults={"url":url_sub_category_level_1,})
				sub_categories_final_list.append(sub_category_final)

	return sub_categories_final_list

def get_product_list(sub_categories_final_list):
	"""
		Controls process of products fetching and saving.

		Input :
			- sub_categories_final_list : list of database entity of final categories saved (correcponding to return of save_categories)
		Return :
			Nothing
	"""

	for i in xrange(0, len(sub_categories_final_list)):
		sub_category_final = sub_categories_final_list[i]
		url_products = sub_category_final.url
		product_list = extract_products(url_products)

		# Going threw every product and saving it
		for title_product, product_dict in product_list.iteritems():
			# First we retrive information about product
			product = coursengo.extract_product(product_dict["url"])
			save_product(product, sub_category_final)
		

def extract_products(url):
	"""
		Fetches produts list from url and parses it.

		Input : 
			- url : string of the url of the produts page

		Return :
			- products : list of dictionnaries to save.
	"""
	return coursengo.extract_product_list(url)

def save_product(product, sub_category_final):
	"""
		Saves produt to database.

		Input : 
			- product : dictionnary representing product to save
			- sub_category_final : database entity of parent category
		Return :
			Nothing
	"""

	if product["status"] == 200:
		# Saving brand
		brand = save_brand(product["brand"])

		# Saving Unit
		unit = save_unit(product["unit"])

		title = product["title"]
		url = product["url"].split(";jsessionid")[0]
		price = product["price"]
		unit_price = product["unit_price"]
		image_url = product["image_url"]
		promotion = product["promotion"]

		product_db, created = Product.objects.get_or_create(title = unicode(title), url = unicode(url), category=sub_category_final, defaults={"price":price, "brand":brand, "unit":unit, "unit_price":unit_price, "image_url":unicode(image_url), "promotion":promotion })
		print "saving product "+title
		if not created:
			if product_db.title != unicode(title) or product_db.category != sub_category_final or product_db.brand != brand or product_db.price != price or product_db.unit_price != unit_price or product_db.unit != unit or product_db.image_url != unicode(image_url) or product_db.promotion != promotion:
				print "Product changed, saving again"
				product_db.title = unicode(title)
				product_db.category = sub_category_final
				product_db.brand = brand
				product_db.price = price
				product_db.unit_price = unit_price
				product_db.unit = unit
				product_db.image_url = unicode(image_url)
				product_db.promotion = promotion
				product_db.save()
			else:
				print "Product did not change"

	elif product["status"] == 404:
		print "Product not found, removing if exists in database"
		if Product.objects.filter(url=product["url"]).exists():
			Product.objects.get(url=product["url"]).delete()
	else:
		print "Aborting product saving because of error while fetching data"
	
	

def save_brand(brand_name):
	"""
		Saves brand in database.

		Input :
			- brand_name : name of the brand to save

		Return :
			- brand : database entity of the associated brand
	"""
	print "Saving brand "+ brand_name+" to database..."
	brand, created_brand = Brand.objects.get_or_create(name = unicode(brand_name))
	return brand

def save_unit(unit_name):
	"""
		Saves unit in database.

		Input :
			- unit_name : name of the unit to save

		Return :
			- unit : database entity of the associated unit
	"""
	print "Saving Unit "+ unit_name+" to database..."
	unit, created_unit = Unit.objects.get_or_create(name = unicode(unit_name))
	return unit

def perform_scraping():
	# coursengo.get_menu()
	# categories = coursengo.get_categories()
	categories = {u'B\xe9b\xe9': {'url': 'supermarche/bebe/', 'sub_categories': {u'REPAS BEBE': {'url': 'supermarche/bebe/repas-bebe/', 'sub_categories': {u'pot legumes': {'url': 'supermarche/bebe/repas-bebe/pot-legumes/'}, u'assiettes': {'url': 'supermarche/bebe/repas-bebe/assiettes/'}, u'pot fruits': {'url': 'supermarche/bebe/repas-bebe/pot-fruits/'}, u'pot viande/poisson': {'url': 'supermarche/bebe/repas-bebe/pot-viande-poisson/'}, u'jus de fruits': {'url': 'supermarche/bebe/repas-bebe/jus-de-fruits/'}}}, u'LAITS BB': {'url': 'supermarche/bebe/laits-bb/', 'sub_categories': {u'poudre': {'url': 'supermarche/bebe/laits-bb/poudre/'}, u'croissance': {'url': 'supermarche/bebe/laits-bb/croissance/'}, u'cereales-boissons lactees': {'url': 'supermarche/bebe/laits-bb/cereales-boissons-lactees/'}}}, u'ACCESSOIRES': {'url': 'supermarche/bebe/accessoires/', 'sub_categories': {u'accessoires': {'url': 'supermarche/bebe/accessoires/accessoires/'}}}, u'COUCHES': {'url': 'supermarche/bebe/couches/', 'sub_categories': {u'culottes': {'url': 'supermarche/bebe/couches/culottes/'}, u'couches': {'url': 'supermarche/bebe/couches/couches/'}}}, u'COTON/LINGETTES BB': {'url': 'supermarche/bebe/coton-lingettes-bb/', 'sub_categories': {u'lingettes': {'url': 'supermarche/bebe/coton-lingettes-bb/lingettes/'}, u'cotons': {'url': 'supermarche/bebe/coton-lingettes-bb/cotons/'}}}}}, u'Bio': {'url': 'supermarche/bio/', 'sub_categories': {u'B\xc9B\xc9': {'url': 'supermarche/bio/bebe/', 'sub_categories': {u'b\xe9b\xe9': {'url': 'supermarche/bio/bebe/bebe/'}}}, u'ANIMAUX': {'url': 'supermarche/bio/animaux/', 'sub_categories': {u'animaux': {'url': 'supermarche/bio/animaux/animaux/'}}}, u'SURGEL\xc9S': {'url': 'supermarche/bio/surgeles/', 'sub_categories': {u'surgel\xe9s': {'url': 'supermarche/bio/surgeles/surgeles/'}}}, u'FRAIS': {'url': 'supermarche/bio/frais/', 'sub_categories': {u'frais': {'url': 'supermarche/bio/frais/frais/'}}}, u'SANS ALCOOL': {'url': 'supermarche/bio/sans-alcool/', 'sub_categories': {u'sans alcools': {'url': 'supermarche/bio/sans-alcool/sans-alcools/'}}}, u'EPICERIE SUCR\xc9E': {'url': 'supermarche/bio/epicerie-sucree/', 'sub_categories': {u'\xe9picerie sucr\xe9e': {'url': 'supermarche/bio/epicerie-sucree/epicerie-sucree/'}}}, u'ALCOOLS': {'url': 'supermarche/bio/alcools/', 'sub_categories': {u'alcools': {'url': 'supermarche/bio/alcools/alcools/'}}}, u'PETIT D\xc9JEUNER': {'url': 'supermarche/bio/petit-dejeuner/', 'sub_categories': {u'petit d\xe9jeuner': {'url': 'supermarche/bio/petit-dejeuner/petit-dejeuner/'}}}, u'EPICERIE SAL\xc9E': {'url': 'supermarche/bio/epicerie-salee/', 'sub_categories': {u'\xe9picerie sal\xe9e': {'url': 'supermarche/bio/epicerie-salee/epicerie-salee/'}}}, u'FRUITS ET L\xc9GUMES': {'url': 'supermarche/bio/fruits-et-legumes/', 'sub_categories': {u'fruits et l\xe9gumes': {'url': 'supermarche/bio/fruits-et-legumes/fruits-et-legumes/'}}}, u'SOIN/HYGI\xc8NE': {'url': 'supermarche/bio/soin-hygiene/', 'sub_categories': {u'soin/hygi\xe8ne': {'url': 'supermarche/bio/soin-hygiene/soin-hygiene/'}}}}}, u'Petit d\xe9jeuner': {'url': 'supermarche/petit-dejeuner/', 'sub_categories': {u'CEREALES': {'url': 'supermarche/petit-dejeuner/cereales/', 'sub_categories': {u'miel/caramel': {'url': 'supermarche/petit-dejeuner/cereales/miel-caramel/'}, u'barres': {'url': 'supermarche/petit-dejeuner/cereales/barres/'}, u'chocolat': {'url': 'supermarche/petit-dejeuner/cereales/chocolat/'}, u'sante': {'url': 'supermarche/petit-dejeuner/cereales/sante/'}, u'petales': {'url': 'supermarche/petit-dejeuner/cereales/petales/'}, u'muesli': {'url': 'supermarche/petit-dejeuner/cereales/muesli/'}}}, u'CAFE/CHOCO': {'url': 'supermarche/petit-dejeuner/cafe-choco/', 'sub_categories': {u'choco en poudre': {'url': 'supermarche/petit-dejeuner/cafe-choco/choco-en-poudre/'}, u'cappuccino': {'url': 'supermarche/petit-dejeuner/cafe-choco/cappuccino/'}, u'melanges': {'url': 'supermarche/petit-dejeuner/cafe-choco/melanges/'}, u'chicoree': {'url': 'supermarche/petit-dejeuner/cafe-choco/chicoree/'}, u'decafeines': {'url': 'supermarche/petit-dejeuner/cafe-choco/decafeines/'}, u'cafe soluble': {'url': 'supermarche/petit-dejeuner/cafe-choco/cafe-soluble/'}, u'arabica': {'url': 'supermarche/petit-dejeuner/cafe-choco/arabica/'}, u'filtre/detartrants': {'url': 'supermarche/petit-dejeuner/cafe-choco/filtre-detartrants/'}, u'dosettes': {'url': 'supermarche/petit-dejeuner/cafe-choco/dosettes/'}, u'origines': {'url': 'supermarche/petit-dejeuner/cafe-choco/origines/'}}}, u'VIENNOISERIE': {'url': 'supermarche/petit-dejeuner/viennoiserie/', 'sub_categories': {u'barres': {'url': 'supermarche/petit-dejeuner/viennoiserie/barres/'}, u'croissant/choco': {'url': 'supermarche/petit-dejeuner/viennoiserie/croissant-choco/'}, u'madeleines': {'url': 'supermarche/petit-dejeuner/viennoiserie/madeleines/'}, u'pain lait': {'url': 'supermarche/petit-dejeuner/viennoiserie/pain-lait/'}, u'pocket': {'url': 'supermarche/petit-dejeuner/viennoiserie/pocket/'}, u'brioches ': {'url': 'supermarche/petit-dejeuner/viennoiserie/brioches/'}, u'crepes/gaufres': {'url': 'supermarche/petit-dejeuner/viennoiserie/crepes-gaufres/'}}}, u'CONFITURE/A TARTINER': {'url': 'supermarche/petit-dejeuner/confiture-a-tartiner/', 'sub_categories': {u'pates a tartiner': {'url': 'supermarche/petit-dejeuner/confiture-a-tartiner/pates-a-tartiner/'}, u'allegees': {'url': 'supermarche/petit-dejeuner/confiture-a-tartiner/allegees/'}, u'fruits ': {'url': 'supermarche/petit-dejeuner/confiture-a-tartiner/fruits/'}, u'miel': {'url': 'supermarche/petit-dejeuner/confiture-a-tartiner/miel/'}, u'gelees': {'url': 'supermarche/petit-dejeuner/confiture-a-tartiner/gelees/'}}}, u'THE/INFUSION': {'url': 'supermarche/petit-dejeuner/the-infusion/', 'sub_categories': {u'the nature': {'url': 'supermarche/petit-dejeuner/the-infusion/the-nature/'}, u'the aromatise': {'url': 'supermarche/petit-dejeuner/the-infusion/the-aromatise/'}, u'infus. parfumee': {'url': 'supermarche/petit-dejeuner/the-infusion/infus-parfumee/'}, u'infus. nature': {'url': 'supermarche/petit-dejeuner/the-infusion/infus-nature/'}}}, u'BISCOTTES /TARTINES': {'url': 'supermarche/petit-dejeuner/biscottes-tartines/', 'sub_categories': {u'suedois': {'url': 'supermarche/petit-dejeuner/biscottes-tartines/suedois/'}, u'pains grilles': {'url': 'supermarche/petit-dejeuner/biscottes-tartines/pains-grilles/'}, u'toasts': {'url': 'supermarche/petit-dejeuner/biscottes-tartines/toasts/'}, u'tartines': {'url': 'supermarche/petit-dejeuner/biscottes-tartines/tartines/'}, u'crackers': {'url': 'supermarche/petit-dejeuner/biscottes-tartines/crackers/'}}}}}, u'Surgel\xe9s': {'url': 'supermarche/surgeles/', 'sub_categories': {u'GLACES': {'url': 'supermarche/surgeles/glaces/', 'sub_categories': {u'glaces enfants': {'url': 'supermarche/surgeles/glaces/glaces-enfants/'}, u'batonnets': {'url': 'supermarche/surgeles/glaces/batonnets/'}, u'cones': {'url': 'supermarche/surgeles/glaces/cones/'}, u'bacs': {'url': 'supermarche/surgeles/glaces/bacs/'}}}, u'DESSERTS': {'url': 'supermarche/surgeles/desserts/', 'sub_categories': {u'tartes': {'url': 'supermarche/surgeles/desserts/tartes/'}, u'gateaux': {'url': 'supermarche/surgeles/desserts/gateaux/'}, u'individuels': {'url': 'supermarche/surgeles/desserts/individuels/'}}}, u'POISSONS': {'url': 'supermarche/surgeles/poissons/', 'sub_categories': {u'panes': {'url': 'supermarche/surgeles/poissons/panes/'}, u'crustaces': {'url': 'supermarche/surgeles/poissons/crustaces/'}, u'natures': {'url': 'supermarche/surgeles/poissons/natures/'}}}, u'PLATS CUISINES': {'url': 'supermarche/surgeles/plats-cuisines/', 'sub_categories': {u'pates cuisinees': {'url': 'supermarche/surgeles/plats-cuisines/pates-cuisinees/'}, u'alleges': {'url': 'supermarche/surgeles/plats-cuisines/alleges/'}, u'poisson': {'url': 'supermarche/surgeles/plats-cuisines/poisson/'}, u'viande/volaille': {'url': 'supermarche/surgeles/plats-cuisines/viande-volaille/'}}}, u'LEGUMES': {'url': 'supermarche/surgeles/legumes/', 'sub_categories': {u'p. de terre': {'url': 'supermarche/surgeles/legumes/p-de-terre/'}, u'leg. melanges': {'url': 'supermarche/surgeles/legumes/leg-melanges/'}, u'frites': {'url': 'supermarche/surgeles/legumes/frites/'}, u'leg. natures': {'url': 'supermarche/surgeles/legumes/leg-natures/'}, u'herbes': {'url': 'supermarche/surgeles/legumes/herbes/'}, u'leg. cuisines': {'url': 'supermarche/surgeles/legumes/leg-cuisines/'}, u'puree / soupes': {'url': 'supermarche/surgeles/legumes/puree-soupes/'}}}, u'ENTREE/PIZZA': {'url': 'supermarche/surgeles/entree-pizza/', 'sub_categories': {u'crepes/galettes': {'url': 'supermarche/surgeles/entree-pizza/crepes-galettes/'}, u'pizzas': {'url': 'supermarche/surgeles/entree-pizza/pizzas/'}, u'feuilletes': {'url': 'supermarche/surgeles/entree-pizza/feuilletes/'}, u'quiches/tourtes': {'url': 'supermarche/surgeles/entree-pizza/quiches-tourtes/'}, u'coquilles/escargots': {'url': 'supermarche/surgeles/entree-pizza/coquilles-escargots/'}}}, u'VIANDES': {'url': 'supermarche/surgeles/viandes/', 'sub_categories': {u'volailles': {'url': 'supermarche/surgeles/viandes/volailles/'}, u'haches': {'url': 'supermarche/surgeles/viandes/haches/'}, u'viandes cuisinees': {'url': 'supermarche/surgeles/viandes/viandes-cuisinees/'}}}}}, u'Leader price': {'url': 'supermarche/leader-price/', 'sub_categories': {u'B\xc9B\xc9': {'url': 'supermarche/leader-price/bebe/', 'sub_categories': {u'accessoires / bibonnerie': {'url': 'supermarche/leader-price/bebe/accessoires-bibonnerie/'}, u'couches / coton / lingettes': {'url': 'supermarche/leader-price/bebe/couches-coton-lingettes/'}, u'laits / repas b\xe9b\xe9': {'url': 'supermarche/leader-price/bebe/laits-repas-bebe/'}}}, u'BIO': {'url': 'supermarche/leader-price/bio/', 'sub_categories': {u'epicerie': {'url': 'supermarche/leader-price/bio/epicerie/'}, u'autres': {'url': 'supermarche/leader-price/bio/autres/'}, u'frais et surgel\xe9s': {'url': 'supermarche/leader-price/bio/frais-et-surgeles/'}, u'boissons': {'url': 'supermarche/leader-price/bio/boissons/'}}}, u'ANIMAUX': {'url': 'supermarche/leader-price/animaux/', 'sub_categories': {u'chiens / chats / autres animaux': {'url': 'supermarche/leader-price/animaux/chiens-chats-autres-animaux/'}}}, u'SURGEL\xc9S': {'url': 'supermarche/leader-price/surgeles/', 'sub_categories': {u'poissons / viandes / l\xe9gumes': {'url': 'supermarche/leader-price/surgeles/poissons-viandes-legumes/'}, u'entr\xe9e / pizza / plats cuisin\xe9s': {'url': 'supermarche/leader-price/surgeles/entree-pizza-plats-cuisines/'}, u'glaces / desserts': {'url': 'supermarche/leader-price/surgeles/glaces-desserts/'}}}, u'FRAIS': {'url': 'supermarche/leader-price/frais/', 'sub_categories': {u'charcuterie / traiteur / mer': {'url': 'supermarche/leader-price/frais/charcuterie-traiteur-mer/'}, u'cr\xe8merie / oeufs / fromages': {'url': 'supermarche/leader-price/frais/cremerie-oeufs-fromages/'}, u'laits / jus frais': {'url': 'supermarche/leader-price/frais/laits-jus-frais/'}, u'yaourts / desserts': {'url': 'supermarche/leader-price/frais/yaourts-desserts/'}, u'boucherie volaille': {'url': 'supermarche/leader-price/frais/boucherie-volaille/'}, u'fruits et l\xe9gumes': {'url': 'supermarche/leader-price/frais/fruits-et-legumes/'}, u'pain / viennoiserie': {'url': 'supermarche/leader-price/frais/pain-viennoiserie/'}}}, u'ENTRETIEN': {'url': 'supermarche/leader-price/entretien/', 'sub_categories': {u'access.cuisine / droguerie / energie': {'url': 'supermarche/leader-price/entretien/accesscuisine-droguerie-energie/'}, u'produits vaisselle / m\xe9nagers / accessoires': {'url': 'supermarche/leader-price/entretien/produits-vaisselle-menagers-accessoires/'}, u'lessives / assouplissants / soin du linge': {'url': 'supermarche/leader-price/entretien/lessives-assouplissants-soin-du-linge/'}}}, u'SANS ALCOOLS': {'url': 'supermarche/leader-price/sans-alcools/', 'sub_categories': {u'colas / sodas': {'url': 'supermarche/leader-price/sans-alcools/colas-sodas/'}, u'eaux / sirops / jus': {'url': 'supermarche/leader-price/sans-alcools/eaux-sirops-jus/'}}}, u'EPICERIE SUCR\xc9E': {'url': 'supermarche/leader-price/epicerie-sucree/', 'sub_categories': {u'sucre / farine': {'url': 'supermarche/leader-price/epicerie-sucree/sucre-farine/'}, u'confiserie / chocolats / desserts': {'url': 'supermarche/leader-price/epicerie-sucree/confiserie-chocolats-desserts/'}, u'g\xe2teaux / viennoiseries': {'url': 'supermarche/leader-price/epicerie-sucree/gateaux-viennoiseries/'}}}, u'PETIT D\xc9JEUNER': {'url': 'supermarche/leader-price/petit-dejeuner/', 'sub_categories': {u'confitures / a tartiner': {'url': 'supermarche/leader-price/petit-dejeuner/confitures-a-tartiner/'}, u'biscottes / tartines / c\xe9r\xe9ales': {'url': 'supermarche/leader-price/petit-dejeuner/biscottes-tartines-cereales/'}, u'caf\xe9 / chocolat / th\xe9 / infusion': {'url': 'supermarche/leader-price/petit-dejeuner/cafe-chocolat-the-infusion/'}, u'viennoiseries': {'url': 'supermarche/leader-price/petit-dejeuner/viennoiseries/'}}}, u'VINS / ALCOOLS': {'url': 'supermarche/leader-price/vins-alcools/', 'sub_categories': {u'ap\xe9ritifs / alcools / champagnes / p\xe9tillants': {'url': 'supermarche/leader-price/vins-alcools/aperitifs-alcools-champagnes-petillants/'}, u'vins rouges / blancs / ros\xe9s': {'url': 'supermarche/leader-price/vins-alcools/vins-rouges-blancs-roses/'}, u'bi\xe8res / cidres': {'url': 'supermarche/leader-price/vins-alcools/bieres-cidres/'}}}, u'EPICERIE SAL\xc9E': {'url': 'supermarche/leader-price/epicerie-salee/', 'sub_categories': {u'ap\xe9ritifs': {'url': 'supermarche/leader-price/epicerie-salee/aperitifs/'}, u'huiles / vinaigre / epices': {'url': 'supermarche/leader-price/epicerie-salee/huiles-vinaigre-epices/'}, u'condiments / sauces': {'url': 'supermarche/leader-price/epicerie-salee/condiments-sauces/'}, u'p\xe2tes / riz / bl\xe9 / semoule': {'url': 'supermarche/leader-price/epicerie-salee/pates-riz-ble-semoule/'}, u'conserves / pur\xe9es / potages': {'url': 'supermarche/leader-price/epicerie-salee/conserves-purees-potages/'}}}, u'SOINS / HYGI\xc8NE': {'url': 'supermarche/leader-price/soins-hygiene/', 'sub_categories': {u'soins cheveux / visage / corps / bain douche': {'url': 'supermarche/leader-price/soins-hygiene/soins-cheveux-visage-corps-bain-douche/'}, u'coton / lingettes / parapharmacie': {'url': 'supermarche/leader-price/soins-hygiene/coton-lingettes-parapharmacie/'}, u'soins dentaires / d\xe9odorants / rasage': {'url': 'supermarche/leader-price/soins-hygiene/soins-dentaires-deodorants-rasage/'}, u'collants / accessoires beaut\xe9': {'url': 'supermarche/leader-price/soins-hygiene/collants-accessoires-beaute/'}, u'hygi\xe8ne f\xe9minine / p.wc / mouchoirs': {'url': 'supermarche/leader-price/soins-hygiene/hygiene-feminine-pwc-mouchoirs/'}}}}}, u'Entretien': {'url': 'supermarche/entretien/', 'sub_categories': {u'LESSIVE': {'url': 'supermarche/entretien/lessive/', 'sub_categories': {u'poudre': {'url': 'supermarche/entretien/lessive/poudre/'}, u'liquide': {'url': 'supermarche/entretien/lessive/liquide/'}, u'mains': {'url': 'supermarche/entretien/lessive/mains/'}, u'anti-calcaire': {'url': 'supermarche/entretien/lessive/anti-calcaire/'}, u'tablettes': {'url': 'supermarche/entretien/lessive/tablettes/'}}}, u'ACCESS. MENAGE': {'url': 'supermarche/entretien/access-menage/', 'sub_categories': {u'camping': {'url': 'supermarche/entretien/access-menage/camping/'}, u'alu ': {'url': 'supermarche/entretien/access-menage/alu/'}, u'film alimentaire': {'url': 'supermarche/entretien/access-menage/film-alimentaire/'}, u'eponges': {'url': 'supermarche/entretien/access-menage/eponges/'}, u'sacs poubelle': {'url': 'supermarche/entretien/access-menage/sacs-poubelle/'}, u'sacs congel.': {'url': 'supermarche/entretien/access-menage/sacs-congel/'}, u'brosserie': {'url': 'supermarche/entretien/access-menage/brosserie/'}, u'essuie-tout': {'url': 'supermarche/entretien/access-menage/essuie-tout/'}}}, u'ACCESS. CUISINE': {'url': 'supermarche/entretien/access-cuisine/', 'sub_categories': {u'access. cuisine': {'url': 'supermarche/entretien/access-cuisine/access-cuisine/'}}}, u'PAPETERIE': {'url': 'supermarche/entretien/papeterie/', 'sub_categories': {u'stylo': {'url': 'supermarche/entretien/papeterie/stylo/'}, u'correspondance': {'url': 'supermarche/entretien/papeterie/correspondance/'}}}, u'SOIN DU LINGE': {'url': 'supermarche/entretien/soin-du-linge/', 'sub_categories': {u'aide repassage': {'url': 'supermarche/entretien/soin-du-linge/aide-repassage/'}, u'detach./desodo.': {'url': 'supermarche/entretien/soin-du-linge/detach-desodo/'}, u'access. linge': {'url': 'supermarche/entretien/soin-du-linge/access-linge/'}}}, u'DROGUERIE': {'url': 'supermarche/entretien/droguerie/', 'sub_categories': {u'gants': {'url': 'supermarche/entretien/droguerie/gants/'}, u'desodorisants': {'url': 'supermarche/entretien/droguerie/desodorisants/'}, u'cirage': {'url': 'supermarche/entretien/droguerie/cirage/'}, u'alcools': {'url': 'supermarche/entretien/droguerie/alcools/'}, u'insecticide': {'url': 'supermarche/entretien/droguerie/insecticide/'}}}, u'ENERGIE': {'url': 'supermarche/entretien/energie/', 'sub_categories': {u'allumettes/briquets': {'url': 'supermarche/entretien/energie/allumettes-briquets/'}, u'ampoules': {'url': 'supermarche/entretien/energie/ampoules/'}, u'piles': {'url': 'supermarche/entretien/energie/piles/'}, u'acces. electriques': {'url': 'supermarche/entretien/energie/acces-electriques/'}}}, u'MERCERIE': {'url': 'supermarche/entretien/mercerie/', 'sub_categories': {u'mercerie': {'url': 'supermarche/entretien/mercerie/mercerie/'}}}, u'ASSOUPLISSANTS': {'url': 'supermarche/entretien/assouplissants/', 'sub_categories': {u'flacons': {'url': 'supermarche/entretien/assouplissants/flacons/'}, u'berlingots': {'url': 'supermarche/entretien/assouplissants/berlingots/'}}}, u'PROD. MENAGERS': {'url': 'supermarche/entretien/prod-menagers/', 'sub_categories': {u'meubles': {'url': 'supermarche/entretien/prod-menagers/meubles/'}, u'wc': {'url': 'supermarche/entretien/prod-menagers/wc/'}, u'javel': {'url': 'supermarche/entretien/prod-menagers/javel/'}, u'lingettes': {'url': 'supermarche/entretien/prod-menagers/lingettes/'}, u'four': {'url': 'supermarche/entretien/prod-menagers/four/'}, u'multi usages': {'url': 'supermarche/entretien/prod-menagers/multi-usages/'}, u'vitres': {'url': 'supermarche/entretien/prod-menagers/vitres/'}, u'sols': {'url': 'supermarche/entretien/prod-menagers/sols/'}, u'cuisine sdb': {'url': 'supermarche/entretien/prod-menagers/cuisine-sdb/'}}}, u'VAISSELLE': {'url': 'supermarche/entretien/vaisselle/', 'sub_categories': {u'autres produits': {'url': 'supermarche/entretien/vaisselle/autres-produits/'}, u'liq. vaisselle': {'url': 'supermarche/entretien/vaisselle/liq-vaisselle/'}}}}}, u'Sans alcool': {'url': 'supermarche/sans-alcool/', 'sub_categories': {u'EAUX': {'url': 'supermarche/sans-alcool/eaux/', 'sub_categories': {u'aromatisees': {'url': 'supermarche/sans-alcool/eaux/aromatisees/'}, u'plates': {'url': 'supermarche/sans-alcool/eaux/plates/'}, u'gazeuses': {'url': 'supermarche/sans-alcool/eaux/gazeuses/'}}}, u'BIERE/APERITIFS': {'url': 'supermarche/sans-alcool/biere-aperitifs/', 'sub_categories': {u'aperitifs': {'url': 'supermarche/sans-alcool/biere-aperitifs/aperitifs/'}, u'biere': {'url': 'supermarche/sans-alcool/biere-aperitifs/biere/'}}}, u'COLA / SODA': {'url': 'supermarche/sans-alcool/cola-soda/', 'sub_categories': {u'soda fruits': {'url': 'supermarche/sans-alcool/cola-soda/soda-fruits/'}, u'limonade/tonic': {'url': 'supermarche/sans-alcool/cola-soda/limonade-tonic/'}, u'cola': {'url': 'supermarche/sans-alcool/cola-soda/cola/'}}}, u'JUS/SIROPS': {'url': 'supermarche/sans-alcool/jus-sirops/', 'sub_categories': {u'multivitamines': {'url': 'supermarche/sans-alcool/jus-sirops/multivitamines/'}, u'pomme/raisin': {'url': 'supermarche/sans-alcool/jus-sirops/pomme-raisin/'}, u'pamplemousse/ananas': {'url': 'supermarche/sans-alcool/jus-sirops/pamplemousse-ananas/'}, u'aux fruits': {'url': 'supermarche/sans-alcool/jus-sirops/aux-fruits/'}, u'autres fruits': {'url': 'supermarche/sans-alcool/jus-sirops/autres-fruits/'}, u'legumes': {'url': 'supermarche/sans-alcool/jus-sirops/legumes/'}, u'sirops': {'url': 'supermarche/sans-alcool/jus-sirops/sirops/'}, u'individuels': {'url': 'supermarche/sans-alcool/jus-sirops/individuels/'}, u'orange': {'url': 'supermarche/sans-alcool/jus-sirops/orange/'}, u'au the': {'url': 'supermarche/sans-alcool/jus-sirops/au-the/'}}}}}, u'Casher': {'url': 'supermarche/casher/', 'sub_categories': {u'EPICERIE': {'url': 'supermarche/casher/epicerie/', 'sub_categories': {u'epicerie': {'url': 'supermarche/casher/epicerie/epicerie/'}}}, u'FRAIS': {'url': 'supermarche/casher/frais/', 'sub_categories': {u'charcuterie': {'url': 'supermarche/casher/frais/charcuterie/'}, u'salades': {'url': 'supermarche/casher/frais/salades/'}, u'accompagnement': {'url': 'supermarche/casher/frais/accompagnement/'}}}, u'DIVERS': {'url': 'supermarche/casher/divers/', 'sub_categories': {u'bougies': {'url': 'supermarche/casher/divers/bougies/'}}}, u'BOISSONS': {'url': 'supermarche/casher/boissons/', 'sub_categories': {u'vins / jus': {'url': 'supermarche/casher/boissons/vins-jus/'}}}}}, u'Vins / Alcools': {'url': 'supermarche/vins-alcools/', 'sub_categories': {u'ALCOOLS': {'url': 'supermarche/vins-alcools/alcools/', 'sub_categories': {u'gin': {'url': 'supermarche/vins-alcools/alcools/gin/'}, u'vodka': {'url': 'supermarche/vins-alcools/alcools/vodka/'}, u'rhum': {'url': 'supermarche/vins-alcools/alcools/rhum/'}, u'tequila': {'url': 'supermarche/vins-alcools/alcools/tequila/'}, u'whisky': {'url': 'supermarche/vins-alcools/alcools/whisky/'}}}, u'BIERES': {'url': 'supermarche/vins-alcools/bieres/', 'sub_categories': {u'blondes': {'url': 'supermarche/vins-alcools/bieres/blondes/'}, u'panache': {'url': 'supermarche/vins-alcools/bieres/panache/'}, u'speciales': {'url': 'supermarche/vins-alcools/bieres/speciales/'}, u'rousses/ambree': {'url': 'supermarche/vins-alcools/bieres/rousses-ambree/'}, u'brunes': {'url': 'supermarche/vins-alcools/bieres/brunes/'}, u'blanches': {'url': 'supermarche/vins-alcools/bieres/blanches/'}}}, u'APERITIFS': {'url': 'supermarche/vins-alcools/aperitifs/', 'sub_categories': {u'porto': {'url': 'supermarche/vins-alcools/aperitifs/porto/'}, u'vins doux': {'url': 'supermarche/vins-alcools/aperitifs/vins-doux/'}, u'autres': {'url': 'supermarche/vins-alcools/aperitifs/autres/'}, u'cocktails': {'url': 'supermarche/vins-alcools/aperitifs/cocktails/'}, u'cremes': {'url': 'supermarche/vins-alcools/aperitifs/cremes/'}, u'muscat': {'url': 'supermarche/vins-alcools/aperitifs/muscat/'}, u'anises': {'url': 'supermarche/vins-alcools/aperitifs/anises/'}}}, u'CIDRES': {'url': 'supermarche/vins-alcools/cidres/', 'sub_categories': {u'doux': {'url': 'supermarche/vins-alcools/cidres/doux/'}, u'brut': {'url': 'supermarche/vins-alcools/cidres/brut/'}}}, u'CHAMPAGNES / PETILLANTS': {'url': 'supermarche/vins-alcools/champagnes-petillants/', 'sub_categories': {u'champagne': {'url': 'supermarche/vins-alcools/champagnes-petillants/champagne/'}, u'mousseux': {'url': 'supermarche/vins-alcools/champagnes-petillants/mousseux/'}}}, u'VINS ROSES': {'url': 'supermarche/vins-alcools/vins-roses/', 'sub_categories': {u'cotes de provence': {'url': 'supermarche/vins-alcools/vins-roses/cotes-de-provence/'}, u'bordeaux': {'url': 'supermarche/vins-alcools/vins-roses/bordeaux/'}, u'autres': {'url': 'supermarche/vins-alcools/vins-roses/autres/'}, u'sud-ouest': {'url': 'supermarche/vins-alcools/vins-roses/sud-ouest/'}, u'loire': {'url': 'supermarche/vins-alcools/vins-roses/loire/'}}}, u'VINS ROUGES': {'url': 'supermarche/vins-alcools/vins-rouges/', 'sub_categories': {u'beaujolais': {'url': 'supermarche/vins-alcools/vins-rouges/beaujolais/'}, u'de pays': {'url': 'supermarche/vins-alcools/vins-rouges/de-pays/'}, u'autres': {'url': 'supermarche/vins-alcools/vins-rouges/autres/'}, u'bourgogne': {'url': 'supermarche/vins-alcools/vins-rouges/bourgogne/'}, u'de table': {'url': 'supermarche/vins-alcools/vins-rouges/de-table/'}, u'etrangers': {'url': 'supermarche/vins-alcools/vins-rouges/etrangers/'}, u'bordeaux': {'url': 'supermarche/vins-alcools/vins-rouges/bordeaux/'}, u'loire': {'url': 'supermarche/vins-alcools/vins-rouges/loire/'}, u'cotes du rhone': {'url': 'supermarche/vins-alcools/vins-rouges/cotes-du-rhone/'}}}, u'DIGESTIFS': {'url': 'supermarche/vins-alcools/digestifs/', 'sub_categories': {u'cognacs': {'url': 'supermarche/vins-alcools/digestifs/cognacs/'}, u'liqueurs': {'url': 'supermarche/vins-alcools/digestifs/liqueurs/'}}}, u'VINS BLANCS': {'url': 'supermarche/vins-alcools/vins-blancs/', 'sub_categories': {u'sud-ouest': {'url': 'supermarche/vins-alcools/vins-blancs/sud-ouest/'}, u'autres': {'url': 'supermarche/vins-alcools/vins-blancs/autres/'}, u'bourgogne ': {'url': 'supermarche/vins-alcools/vins-blancs/bourgogne/'}, u'alsace': {'url': 'supermarche/vins-alcools/vins-blancs/alsace/'}, u'bordeaux': {'url': 'supermarche/vins-alcools/vins-blancs/bordeaux/'}, u'vins de pays': {'url': 'supermarche/vins-alcools/vins-blancs/vins-de-pays/'}, u'loire': {'url': 'supermarche/vins-alcools/vins-blancs/loire/'}}}}}, u'Frais': {'url': 'supermarche/frais/', 'sub_categories': {u'CHARCUTERIE': {'url': 'supermarche/frais/charcuterie/', 'sub_categories': {u'pat\xe9s/rillettes': {'url': 'supermarche/frais/charcuterie/pates-rillettes/'}, u'en tranches': {'url': 'supermarche/frais/charcuterie/en-tranches/'}, u'saucissons': {'url': 'supermarche/frais/charcuterie/saucissons/'}, u'lardons': {'url': 'supermarche/frais/charcuterie/lardons/'}, u'jambon volaille': {'url': 'supermarche/frais/charcuterie/jambon-volaille/'}, u'jambon porc': {'url': 'supermarche/frais/charcuterie/jambon-porc/'}, u'saucisses': {'url': 'supermarche/frais/charcuterie/saucisses/'}}}, u'FROMAGES': {'url': 'supermarche/frais/fromages/', 'sub_categories': {u'specialites': {'url': 'supermarche/frais/fromages/specialites/'}, u'camemberts/coulommiers': {'url': 'supermarche/frais/fromages/camemberts-coulommiers/'}, u'hollande': {'url': 'supermarche/frais/fromages/hollande/'}, u'chevre/brebis': {'url': 'supermarche/frais/fromages/chevre-brebis/'}, u'bleu roquefort': {'url': 'supermarche/frais/fromages/bleu-roquefort/'}, u'pates molles': {'url': 'supermarche/frais/fromages/pates-molles/'}, u' a tartiner': {'url': 'supermarche/frais/fromages/a-tartiner/'}, u'emmental/rape': {'url': 'supermarche/frais/fromages/emmental-rape/'}, u'enfants': {'url': 'supermarche/frais/fromages/enfants/'}, u'alleges': {'url': 'supermarche/frais/fromages/alleges/'}, u'italiens': {'url': 'supermarche/frais/fromages/italiens/'}}}, u'LAITS': {'url': 'supermarche/frais/laits/', 'sub_categories': {u'bebe': {'url': 'supermarche/frais/laits/bebe/'}, u'ecreme': {'url': 'supermarche/frais/laits/ecreme/'}, u'aromatise': {'url': 'supermarche/frais/laits/aromatise/'}, u'sante': {'url': 'supermarche/frais/laits/sante/'}, u'poudre/concentre': {'url': 'supermarche/frais/laits/poudre-concentre/'}, u'1/2 ecreme': {'url': 'supermarche/frais/laits/1-2-ecreme/'}, u'entier': {'url': 'supermarche/frais/laits/entier/'}}}, u'CREMERIE/OEUFS': {'url': 'supermarche/frais/cremerie-oeufs/', 'sub_categories': {u'beurre barquettes': {'url': 'supermarche/frais/cremerie-oeufs/beurre-barquettes/'}, u'beurre plaquettes': {'url': 'supermarche/frais/cremerie-oeufs/beurre-plaquettes/'}, u'margarines sante': {'url': 'supermarche/frais/cremerie-oeufs/margarines-sante/'}, u'margarines': {'url': 'supermarche/frais/cremerie-oeufs/margarines/'}, u'oeufs': {'url': 'supermarche/frais/cremerie-oeufs/oeufs/'}, u'chantilly': {'url': 'supermarche/frais/cremerie-oeufs/chantilly/'}, u'creme epaisse': {'url': 'supermarche/frais/cremerie-oeufs/creme-epaisse/'}, u'creme liquide': {'url': 'supermarche/frais/cremerie-oeufs/creme-liquide/'}}}, u'YAOURTS/DESSERTS': {'url': 'supermarche/frais/yaourts-desserts/', 'sub_categories': {u'aux fruits ': {'url': 'supermarche/frais/yaourts-desserts/aux-fruits/'}, u'enfants': {'url': 'supermarche/frais/yaourts-desserts/enfants/'}, u'aromatises': {'url': 'supermarche/frais/yaourts-desserts/aromatises/'}, u'desserts': {'url': 'supermarche/frais/yaourts-desserts/desserts/'}, u'fromage blanc': {'url': 'supermarche/frais/yaourts-desserts/fromage-blanc/'}, u'a boire': {'url': 'supermarche/frais/yaourts-desserts/a-boire/'}, u'petits suisses': {'url': 'supermarche/frais/yaourts-desserts/petits-suisses/'}, u'natures': {'url': 'supermarche/frais/yaourts-desserts/natures/'}, u'compotes': {'url': 'supermarche/frais/yaourts-desserts/compotes/'}, u'alleges': {'url': 'supermarche/frais/yaourts-desserts/alleges/'}, u'brasses': {'url': 'supermarche/frais/yaourts-desserts/brasses/'}, u'sante/bifidus': {'url': 'supermarche/frais/yaourts-desserts/sante-bifidus/'}}}, u'JUS FRAIS': {'url': 'supermarche/frais/jus-frais/', 'sub_categories': {u'au lait ': {'url': 'supermarche/frais/jus-frais/au-lait/'}, u'aux fruits': {'url': 'supermarche/frais/jus-frais/aux-fruits/'}}}, u'PAIN/VIENNOISERIE': {'url': 'supermarche/frais/pain-viennoiserie/', 'sub_categories': {u'pain de mie': {'url': 'supermarche/frais/pain-viennoiserie/pain-de-mie/'}, u'pains speciaux': {'url': 'supermarche/frais/pain-viennoiserie/pains-speciaux/'}, u'patisserie  ': {'url': 'supermarche/frais/pain-viennoiserie/patisserie/'}, u'precuits': {'url': 'supermarche/frais/pain-viennoiserie/precuits/'}}}, u'VOLAILLE': {'url': 'supermarche/frais/volaille/', 'sub_categories': {u'poulet': {'url': 'supermarche/frais/volaille/poulet/'}, u'cordon bleu': {'url': 'supermarche/frais/volaille/cordon-bleu/'}, u'canard': {'url': 'supermarche/frais/volaille/canard/'}, u'dinde': {'url': 'supermarche/frais/volaille/dinde/'}}}, u'MER': {'url': 'supermarche/frais/mer/', 'sub_categories': {u"d'ailleurs": {'url': 'supermarche/frais/mer/d-ailleurs/'}, u'poissons': {'url': 'supermarche/frais/mer/poissons/'}, u'blinis': {'url': 'supermarche/frais/mer/blinis/'}, u'maree': {'url': 'supermarche/frais/mer/maree/'}, u'saumons': {'url': 'supermarche/frais/mer/saumons/'}, u'tarama ': {'url': 'supermarche/frais/mer/tarama/'}, u'surimis': {'url': 'supermarche/frais/mer/surimis/'}}}, u'TRAITEUR': {'url': 'supermarche/frais/traiteur/', 'sub_categories': {u'sandwich': {'url': 'supermarche/frais/traiteur/sandwich/'}, u'pates fraiches': {'url': 'supermarche/frais/traiteur/pates-fraiches/'}, u'plats cuisines': {'url': 'supermarche/frais/traiteur/plats-cuisines/'}, u"saveurs d'ailleurs": {'url': 'supermarche/frais/traiteur/saveurs-d-ailleurs/'}, u'salades': {'url': 'supermarche/frais/traiteur/salades/'}, u'prep. patisserie': {'url': 'supermarche/frais/traiteur/prep-patisserie/'}, u'crepes': {'url': 'supermarche/frais/traiteur/crepes/'}, u'pizzas/quiches': {'url': 'supermarche/frais/traiteur/pizzas-quiches/'}, u'croques': {'url': 'supermarche/frais/traiteur/croques/'}}}, u'BOUCHERIE': {'url': 'supermarche/frais/boucherie/', 'sub_categories': {u'abats': {'url': 'supermarche/frais/boucherie/abats/'}, u'hamburger': {'url': 'supermarche/frais/boucherie/hamburger/'}, u'porc': {'url': 'supermarche/frais/boucherie/porc/'}, u'veau': {'url': 'supermarche/frais/boucherie/veau/'}, u'boeuf': {'url': 'supermarche/frais/boucherie/boeuf/'}, u'hache': {'url': 'supermarche/frais/boucherie/hache/'}, u'saucisserie': {'url': 'supermarche/frais/boucherie/saucisserie/'}, u'viande longue conservation': {'url': 'supermarche/frais/boucherie/viande-longue-conservation/'}}}}}, u'Epicerie sal\xe9e': {'url': 'supermarche/epicerie-salee/', 'sub_categories': {u'APERITIFS': {'url': 'supermarche/epicerie-salee/aperitifs/', 'sub_categories': {u'gateaux sales': {'url': 'supermarche/epicerie-salee/aperitifs/gateaux-sales/'}, u'olives': {'url': 'supermarche/epicerie-salee/aperitifs/olives/'}, u'souffles': {'url': 'supermarche/epicerie-salee/aperitifs/souffles/'}, u'tuiles': {'url': 'supermarche/epicerie-salee/aperitifs/tuiles/'}, u'graines': {'url': 'supermarche/epicerie-salee/aperitifs/graines/'}, u'assortiment': {'url': 'supermarche/epicerie-salee/aperitifs/assortiment/'}, u'chips': {'url': 'supermarche/epicerie-salee/aperitifs/chips/'}, u'sauces': {'url': 'supermarche/epicerie-salee/aperitifs/sauces/'}}}, u'PATES': {'url': 'supermarche/epicerie-salee/pates/', 'sub_categories': {u'cuisson rapide': {'url': 'supermarche/epicerie-salee/pates/cuisson-rapide/'}, u'tortellini': {'url': 'supermarche/epicerie-salee/pates/tortellini/'}, u'tagliatelles': {'url': 'supermarche/epicerie-salee/pates/tagliatelles/'}, u'autres pates': {'url': 'supermarche/epicerie-salee/pates/autres-pates/'}, u'aux legumes': {'url': 'supermarche/epicerie-salee/pates/aux-legumes/'}, u'coquil./nouilles': {'url': 'supermarche/epicerie-salee/pates/coquil-nouilles/'}, u'cuisinees': {'url': 'supermarche/epicerie-salee/pates/cuisinees/'}, u'spaghetti': {'url': 'supermarche/epicerie-salee/pates/spaghetti/'}, u'macaroni/torsade': {'url': 'supermarche/epicerie-salee/pates/macaroni-torsade/'}}}, u'RIZ/BLE/SEMOULE': {'url': 'supermarche/epicerie-salee/riz-ble-semoule/', 'sub_categories': {u'riz cuisine': {'url': 'supermarche/epicerie-salee/riz-ble-semoule/riz-cuisine/'}, u'leg. secs': {'url': 'supermarche/epicerie-salee/riz-ble-semoule/leg-secs/'}, u'semoules': {'url': 'supermarche/epicerie-salee/riz-ble-semoule/semoules/'}, u'riz nature': {'url': 'supermarche/epicerie-salee/riz-ble-semoule/riz-nature/'}, u'riz complet': {'url': 'supermarche/epicerie-salee/riz-ble-semoule/riz-complet/'}, u'ble a cuire': {'url': 'supermarche/epicerie-salee/riz-ble-semoule/ble-a-cuire/'}, u'couscous': {'url': 'supermarche/epicerie-salee/riz-ble-semoule/couscous/'}, u'riz parfume': {'url': 'supermarche/epicerie-salee/riz-ble-semoule/riz-parfume/'}}}, u'PUREES': {'url': 'supermarche/epicerie-salee/purees/', 'sub_categories': {u'au lait ': {'url': 'supermarche/epicerie-salee/purees/au-lait/'}, u'autre puree': {'url': 'supermarche/epicerie-salee/purees/autre-puree/'}, u'nature': {'url': 'supermarche/epicerie-salee/purees/nature/'}}}, u'SAUCES CUISINEES': {'url': 'supermarche/epicerie-salee/sauces-cuisinees/', 'sub_categories': {u'autres sauces': {'url': 'supermarche/epicerie-salee/sauces-cuisinees/autres-sauces/'}, u'fonds de sauce': {'url': 'supermarche/epicerie-salee/sauces-cuisinees/fonds-de-sauce/'}, u'deshydratee': {'url': 'supermarche/epicerie-salee/sauces-cuisinees/deshydratee/'}, u'tomate cuisinee': {'url': 'supermarche/epicerie-salee/sauces-cuisinees/tomate-cuisinee/'}, u'exotique': {'url': 'supermarche/epicerie-salee/sauces-cuisinees/exotique/'}, u'concentre': {'url': 'supermarche/epicerie-salee/sauces-cuisinees/concentre/'}}}, u'HUILE/VINAIGRES': {'url': 'supermarche/epicerie-salee/huile-vinaigres/', 'sub_categories': {u'equilibree': {'url': 'supermarche/epicerie-salee/huile-vinaigres/equilibree/'}, u'vin. aromatise': {'url': 'supermarche/epicerie-salee/huile-vinaigres/vin-aromatise/'}, u'autres huiles': {'url': 'supermarche/epicerie-salee/huile-vinaigres/autres-huiles/'}, u'vinaigre nature': {'url': 'supermarche/epicerie-salee/huile-vinaigres/vinaigre-nature/'}, u'tournesol': {'url': 'supermarche/epicerie-salee/huile-vinaigres/tournesol/'}, u'vinaigrette/jus citron': {'url': 'supermarche/epicerie-salee/huile-vinaigres/vinaigrette-jus-citron/'}, u'huile olive': {'url': 'supermarche/epicerie-salee/huile-vinaigres/huile-olive/'}}}, u'POTAGES': {'url': 'supermarche/epicerie-salee/potages/', 'sub_categories': {u'brique familiale': {'url': 'supermarche/epicerie-salee/potages/brique-familiale/'}, u'brique individuelle': {'url': 'supermarche/epicerie-salee/potages/brique-individuelle/'}, u'croutons': {'url': 'supermarche/epicerie-salee/potages/croutons/'}, u'bouillons': {'url': 'supermarche/epicerie-salee/potages/bouillons/'}, u'deshydrate': {'url': 'supermarche/epicerie-salee/potages/deshydrate/'}}}, u'CONDIM./SAUCES': {'url': 'supermarche/epicerie-salee/condim-sauces/', 'sub_categories': {u'olives': {'url': 'supermarche/epicerie-salee/condim-sauces/olives/'}, u'sauces froides': {'url': 'supermarche/epicerie-salee/condim-sauces/sauces-froides/'}, u'moutarde': {'url': 'supermarche/epicerie-salee/condim-sauces/moutarde/'}, u'piment/oignons': {'url': 'supermarche/epicerie-salee/condim-sauces/piment-oignons/'}, u'cornichons/capres': {'url': 'supermarche/epicerie-salee/condim-sauces/cornichons-capres/'}, u'mayonnaise': {'url': 'supermarche/epicerie-salee/condim-sauces/mayonnaise/'}, u'ketchup': {'url': 'supermarche/epicerie-salee/condim-sauces/ketchup/'}}}, u'EPICES': {'url': 'supermarche/epicerie-salee/epices/', 'sub_categories': {u'autres epices': {'url': 'supermarche/epicerie-salee/epices/autres-epices/'}, u'poivres': {'url': 'supermarche/epicerie-salee/epices/poivres/'}, u'herbes': {'url': 'supermarche/epicerie-salee/epices/herbes/'}, u'sels': {'url': 'supermarche/epicerie-salee/epices/sels/'}}}, u'CONSERVES': {'url': 'supermarche/epicerie-salee/conserves/', 'sub_categories': {u'champignons': {'url': 'supermarche/epicerie-salee/conserves/champignons/'}, u'autres poissons': {'url': 'supermarche/epicerie-salee/conserves/autres-poissons/'}, u'mais/asperges...': {'url': 'supermarche/epicerie-salee/conserves/mais-asperges/'}, u'pates': {'url': 'supermarche/epicerie-salee/conserves/pates/'}, u'autres legumes': {'url': 'supermarche/epicerie-salee/conserves/autres-legumes/'}, u'autres plats': {'url': 'supermarche/epicerie-salee/conserves/autres-plats/'}, u'melange legumes': {'url': 'supermarche/epicerie-salee/conserves/melange-legumes/'}, u'salades': {'url': 'supermarche/epicerie-salee/conserves/salades/'}, u'feculents': {'url': 'supermarche/epicerie-salee/conserves/feculents/'}, u'thons': {'url': 'supermarche/epicerie-salee/conserves/thons/'}, u'haricots/pois': {'url': 'supermarche/epicerie-salee/conserves/haricots-pois/'}, u'sardines/maquereaux': {'url': 'supermarche/epicerie-salee/conserves/sardines-maquereaux/'}, u'plats italiens': {'url': 'supermarche/epicerie-salee/conserves/plats-italiens/'}, u'crustaces': {'url': 'supermarche/epicerie-salee/conserves/crustaces/'}}}}}, u'Epicerie sucr\xe9e': {'url': 'supermarche/epicerie-sucree/', 'sub_categories': {u'SUCRE/FARINE': {'url': 'supermarche/epicerie-sucree/sucre-farine/', 'sub_categories': {u'farines': {'url': 'supermarche/epicerie-sucree/sucre-farine/farines/'}, u'edulcorant': {'url': 'supermarche/epicerie-sucree/sucre-farine/edulcorant/'}, u'sucre poudre': {'url': 'supermarche/epicerie-sucree/sucre-farine/sucre-poudre/'}, u'preparation': {'url': 'supermarche/epicerie-sucree/sucre-farine/preparation/'}, u'sucre morceaux': {'url': 'supermarche/epicerie-sucree/sucre-farine/sucre-morceaux/'}, u'sucres divers': {'url': 'supermarche/epicerie-sucree/sucre-farine/sucres-divers/'}, u'aide patisserie': {'url': 'supermarche/epicerie-sucree/sucre-farine/aide-patisserie/'}}}, u'G\xc2TEAUX': {'url': 'supermarche/epicerie-sucree/gateaux/', 'sub_categories': {u'cakes': {'url': 'supermarche/epicerie-sucree/gateaux/cakes/'}, u'boudoirs': {'url': 'supermarche/epicerie-sucree/gateaux/boudoirs/'}, u'gaufrettes': {'url': 'supermarche/epicerie-sucree/gateaux/gaufrettes/'}, u'chocolat': {'url': 'supermarche/epicerie-sucree/gateaux/chocolat/'}, u'gouter': {'url': 'supermarche/epicerie-sucree/gateaux/gouter/'}, u'alleges': {'url': 'supermarche/epicerie-sucree/gateaux/alleges/'}, u'petit dejeuner': {'url': 'supermarche/epicerie-sucree/gateaux/petit-dejeuner/'}, u'patissiers fruits': {'url': 'supermarche/epicerie-sucree/gateaux/patissiers-fruits/'}, u'gat. secs': {'url': 'supermarche/epicerie-sucree/gateaux/gat-secs/'}, u'assortiment': {'url': 'supermarche/epicerie-sucree/gateaux/assortiment/'}, u'individuel': {'url': 'supermarche/epicerie-sucree/gateaux/individuel/'}, u'cookies/brownies': {'url': 'supermarche/epicerie-sucree/gateaux/cookies-brownies/'}}}, u'DESSERTS': {'url': 'supermarche/epicerie-sucree/desserts/', 'sub_categories': {u'compotes': {'url': 'supermarche/epicerie-sucree/desserts/compotes/'}, u'fruits sirop': {'url': 'supermarche/epicerie-sucree/desserts/fruits-sirop/'}, u'creme dessert': {'url': 'supermarche/epicerie-sucree/desserts/creme-dessert/'}, u'individuelles': {'url': 'supermarche/epicerie-sucree/desserts/individuelles/'}}}, u'CONFISERIE': {'url': 'supermarche/epicerie-sucree/confiserie/', 'sub_categories': {u'bonbons ': {'url': 'supermarche/epicerie-sucree/confiserie/bonbons/'}, u'enfants': {'url': 'supermarche/epicerie-sucree/confiserie/enfants/'}, u'chewing gum': {'url': 'supermarche/epicerie-sucree/confiserie/chewing-gum/'}}}, u'CHOCOLATS': {'url': 'supermarche/epicerie-sucree/chocolats/', 'sub_categories': {u'au lait ': {'url': 'supermarche/epicerie-sucree/chocolats/au-lait/'}, u'noir': {'url': 'supermarche/epicerie-sucree/chocolats/noir/'}, u'patissier': {'url': 'supermarche/epicerie-sucree/chocolats/patissier/'}, u'barres choc.': {'url': 'supermarche/epicerie-sucree/chocolats/barres-choc/'}, u'avec ingredients': {'url': 'supermarche/epicerie-sucree/chocolats/avec-ingredients/'}, u'billes choc.': {'url': 'supermarche/epicerie-sucree/chocolats/billes-choc/'}, u'bouchees / rochers': {'url': 'supermarche/epicerie-sucree/chocolats/bouchees-rochers/'}}}, u'DI\xc9T\xc9TIQUE': {'url': 'supermarche/epicerie-sucree/dietetique/', 'sub_categories': {u'boissons': {'url': 'supermarche/epicerie-sucree/dietetique/boissons/'}, u'substituts': {'url': 'supermarche/epicerie-sucree/dietetique/substituts/'}, u'petit dejeuner': {'url': 'supermarche/epicerie-sucree/dietetique/petit-dejeuner/'}, u'desserts': {'url': 'supermarche/epicerie-sucree/dietetique/desserts/'}, u'biscottes / galettes': {'url': 'supermarche/epicerie-sucree/dietetique/biscottes-galettes/'}, u'gateaux': {'url': 'supermarche/epicerie-sucree/dietetique/gateaux/'}}}}}, u'Soins / Hygi\xe8ne': {'url': 'supermarche/soins-hygiene/', 'sub_categories': {u'RASAGE': {'url': 'supermarche/soins-hygiene/rasage/', 'sub_categories': {u'apres-rasage': {'url': 'supermarche/soins-hygiene/rasage/apres-rasage/'}, u'gel/mousse': {'url': 'supermarche/soins-hygiene/rasage/gel-mousse/'}, u'rasoirs/lames': {'url': 'supermarche/soins-hygiene/rasage/rasoirs-lames/'}}}, u'HYGIENE FEMININE': {'url': 'supermarche/soins-hygiene/hygiene-feminine/', 'sub_categories': {u'serviettes': {'url': 'supermarche/soins-hygiene/hygiene-feminine/serviettes/'}, u'protege slip': {'url': 'supermarche/soins-hygiene/hygiene-feminine/protege-slip/'}, u'tampons': {'url': 'supermarche/soins-hygiene/hygiene-feminine/tampons/'}}}, u'PARAPHARMACIE': {'url': 'supermarche/soins-hygiene/parapharmacie/', 'sub_categories': {u'preservatif': {'url': 'supermarche/soins-hygiene/parapharmacie/preservatif/'}, u'desinfectant': {'url': 'supermarche/soins-hygiene/parapharmacie/desinfectant/'}, u'pansements': {'url': 'supermarche/soins-hygiene/parapharmacie/pansements/'}}}, u'BAIN/DOUCHE': {'url': 'supermarche/soins-hygiene/bain-douche/', 'sub_categories': {u'gels douche': {'url': 'supermarche/soins-hygiene/bain-douche/gels-douche/'}, u'savons liquides': {'url': 'supermarche/soins-hygiene/bain-douche/savons-liquides/'}, u'enfants': {'url': 'supermarche/soins-hygiene/bain-douche/enfants/'}, u'savons': {'url': 'supermarche/soins-hygiene/bain-douche/savons/'}, u'bains moussants': {'url': 'supermarche/soins-hygiene/bain-douche/bains-moussants/'}}}, u'CHEVEUX': {'url': 'supermarche/soins-hygiene/cheveux/', 'sub_categories': {u'apres shamp.': {'url': 'supermarche/soins-hygiene/cheveux/apres-shamp/'}, u'coiffants': {'url': 'supermarche/soins-hygiene/cheveux/coiffants/'}, u'soins': {'url': 'supermarche/soins-hygiene/cheveux/soins/'}, u'shampoing': {'url': 'supermarche/soins-hygiene/cheveux/shampoing/'}}}, u'DENTAIRE': {'url': 'supermarche/soins-hygiene/dentaire/', 'sub_categories': {u'solution dentaire': {'url': 'supermarche/soins-hygiene/dentaire/solution-dentaire/'}, u'brosse a dents': {'url': 'supermarche/soins-hygiene/dentaire/brosse-a-dents/'}, u'dentifrice': {'url': 'supermarche/soins-hygiene/dentaire/dentifrice/'}}}, u'COLLANTS': {'url': 'supermarche/soins-hygiene/collants/', 'sub_categories': {u'collants t4': {'url': 'supermarche/soins-hygiene/collants/collants-t4/'}, u'collants t3': {'url': 'supermarche/soins-hygiene/collants/collants-t3/'}, u'collants t2': {'url': 'supermarche/soins-hygiene/collants/collants-t2/'}, u'collants t1': {'url': 'supermarche/soins-hygiene/collants/collants-t1/'}, u'mi  bas': {'url': 'supermarche/soins-hygiene/collants/mi-bas/'}}}, u'VISAGE/CORPS': {'url': 'supermarche/soins-hygiene/visage-corps/', 'sub_categories': {u'mains': {'url': 'supermarche/soins-hygiene/visage-corps/mains/'}, u'hydratant': {'url': 'supermarche/soins-hygiene/visage-corps/hydratant/'}, u'levres': {'url': 'supermarche/soins-hygiene/visage-corps/levres/'}, u'demaquillant': {'url': 'supermarche/soins-hygiene/visage-corps/demaquillant/'}, u'epilation': {'url': 'supermarche/soins-hygiene/visage-corps/epilation/'}, u'tonique': {'url': 'supermarche/soins-hygiene/visage-corps/tonique/'}}}, u'COTON/LINGETTES': {'url': 'supermarche/soins-hygiene/coton-lingettes/', 'sub_categories': {u'bebe': {'url': 'supermarche/soins-hygiene/coton-lingettes/bebe/'}, u'ling. demaquillantes': {'url': 'supermarche/soins-hygiene/coton-lingettes/ling-demaquillantes/'}, u'cotons': {'url': 'supermarche/soins-hygiene/coton-lingettes/cotons/'}}}, u'ACCESSOIRES BEAUTE': {'url': 'supermarche/soins-hygiene/accessoires-beaute/', 'sub_categories': {u'accessoires beaut\xe9': {'url': 'supermarche/soins-hygiene/accessoires-beaute/accessoires-beaute/'}}}, u'P.WC/MOUCHOIRS': {'url': 'supermarche/soins-hygiene/pwc-mouchoirs/', 'sub_categories': {u'boite mouchoirs': {'url': 'supermarche/soins-hygiene/pwc-mouchoirs/boite-mouchoirs/'}, u'etui mouchoirs': {'url': 'supermarche/soins-hygiene/pwc-mouchoirs/etui-mouchoirs/'}, u'wc rouleau': {'url': 'supermarche/soins-hygiene/pwc-mouchoirs/wc-rouleau/'}, u'wc plat': {'url': 'supermarche/soins-hygiene/pwc-mouchoirs/wc-plat/'}}}, u'DEODORANTS': {'url': 'supermarche/soins-hygiene/deodorants/', 'sub_categories': {u'homme': {'url': 'supermarche/soins-hygiene/deodorants/homme/'}, u'femme': {'url': 'supermarche/soins-hygiene/deodorants/femme/'}}}}}, u'Fruits/L\xe9gumes': {'url': 'supermarche/fruits-legumes/', 'sub_categories': {u'LEGUMES': {'url': 'supermarche/fruits-legumes/legumes/', 'sub_categories': {u'champignons': {'url': 'supermarche/fruits-legumes/legumes/champignons/'}, u'salades/endives': {'url': 'supermarche/fruits-legumes/legumes/salades-endives/'}, u'ratatouille': {'url': 'supermarche/fruits-legumes/legumes/ratatouille/'}, u'carottes': {'url': 'supermarche/fruits-legumes/legumes/carottes/'}, u'crudites': {'url': 'supermarche/fruits-legumes/legumes/crudites/'}, u'choux': {'url': 'supermarche/fruits-legumes/legumes/choux/'}, u'ail / oignons': {'url': 'supermarche/fruits-legumes/legumes/ail-oignons/'}, u'tomates': {'url': 'supermarche/fruits-legumes/legumes/tomates/'}, u'p. de terre': {'url': 'supermarche/fruits-legumes/legumes/p-de-terre/'}, u'pot au feu': {'url': 'supermarche/fruits-legumes/legumes/pot-au-feu/'}, u'de saison': {'url': 'supermarche/fruits-legumes/legumes/de-saison/'}}}, u'SECS': {'url': 'supermarche/fruits-legumes/secs/', 'sub_categories': {u'leg. secs': {'url': 'supermarche/fruits-legumes/secs/leg-secs/'}, u'fruits secs': {'url': 'supermarche/fruits-legumes/secs/fruits-secs/'}}}, u'SACHET SALADE': {'url': 'supermarche/fruits-legumes/sachet-salade/', 'sub_categories': {u'composee': {'url': 'supermarche/fruits-legumes/sachet-salade/composee/'}, u'nature': {'url': 'supermarche/fruits-legumes/sachet-salade/nature/'}}}, u'SOUS VIDE': {'url': 'supermarche/fruits-legumes/sous-vide/', 'sub_categories': {u'carottes': {'url': 'supermarche/fruits-legumes/sous-vide/carottes/'}, u'p. de terre': {'url': 'supermarche/fruits-legumes/sous-vide/p-de-terre/'}}}, u'FRUITS': {'url': 'supermarche/fruits-legumes/fruits/', 'sub_categories': {u'exotiques': {'url': 'supermarche/fruits-legumes/fruits/exotiques/'}, u'a noyaux': {'url': 'supermarche/fruits-legumes/fruits/a-noyaux/'}, u'bananes': {'url': 'supermarche/fruits-legumes/fruits/bananes/'}, u'raisins': {'url': 'supermarche/fruits-legumes/fruits/raisins/'}, u'pommes/poires': {'url': 'supermarche/fruits-legumes/fruits/pommes-poires/'}, u'de saison': {'url': 'supermarche/fruits-legumes/fruits/de-saison/'}, u'agrumes': {'url': 'supermarche/fruits-legumes/fruits/agrumes/'}, u'fruits rouges': {'url': 'supermarche/fruits-legumes/fruits/fruits-rouges/'}}}}}, u'Animaux': {'url': 'supermarche/animaux/', 'sub_categories': {u'CHIENS': {'url': 'supermarche/animaux/chiens/', 'sub_categories': {u'patees/bouchees': {'url': 'supermarche/animaux/chiens/patees-bouchees/'}, u'croquettes': {'url': 'supermarche/animaux/chiens/croquettes/'}, u'barquettes/sachets': {'url': 'supermarche/animaux/chiens/barquettes-sachets/'}}}, u'CHATS': {'url': 'supermarche/animaux/chats/', 'sub_categories': {u'patees/bouchees': {'url': 'supermarche/animaux/chats/patees-bouchees/'}, u'croquettes': {'url': 'supermarche/animaux/chats/croquettes/'}, u'barquettes/sachets': {'url': 'supermarche/animaux/chats/barquettes-sachets/'}, u'litieres': {'url': 'supermarche/animaux/chats/litieres/'}, u'chatons': {'url': 'supermarche/animaux/chats/chatons/'}}}, u'ACCESSOIRES ANIMAUX': {'url': 'supermarche/animaux/accessoires-animaux/', 'sub_categories': {u'accessoires animaux': {'url': 'supermarche/animaux/accessoires-animaux/accessoires-animaux/'}}}, u'AUTRES ANIMAUX': {'url': 'supermarche/animaux/autres-animaux/', 'sub_categories': {u'rongeurs': {'url': 'supermarche/animaux/autres-animaux/rongeurs/'}}}}}}
	sub_categories_final_list = save_categories(categories)
	get_product_list(sub_categories_final_list)